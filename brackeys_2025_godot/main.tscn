[gd_scene load_steps=32 format=3 uid="uid://b2cpr1lgw7bm8"]

[ext_resource type="Script" path="res://Zones/Scripts/GameManager.cs" id="1_yxd7y"]
[ext_resource type="PackedScene" uid="uid://brlq4ot8qypvv" path="res://Zones/Scenes/zone_9.tscn" id="2_2apei"]
[ext_resource type="PackedScene" uid="uid://blll5nq61dt7v" path="res://Zones/Scenes/zone_1.tscn" id="2_3h40t"]
[ext_resource type="PackedScene" uid="uid://bsv0rixeuanqn" path="res://Objects/Cart/cart.tscn" id="2_kfp56"]
[ext_resource type="PackedScene" uid="uid://cb7s04dpv0wii" path="res://Zones/Scenes/zone_2.tscn" id="3_pn6f8"]
[ext_resource type="PackedScene" uid="uid://co34hl8xqgms7" path="res://Zones/Scenes/zone_3.tscn" id="4_4rtxn"]
[ext_resource type="PackedScene" uid="uid://cc1m2a1obsyn4" path="res://addons/fpc/character.tscn" id="4_l5hq1"]
[ext_resource type="PackedScene" uid="uid://dlmx0mcf2pncd" path="res://Zones/Scenes/zone_4.tscn" id="5_ueelr"]
[ext_resource type="PackedScene" uid="uid://dduv5oiom5jd8" path="res://Zones/Scenes/zone_5.tscn" id="6_m1i8t"]
[ext_resource type="PackedScene" uid="uid://bbkr04vo7uhhe" path="res://Objects/Interactable/Tools/blowtorch.tscn" id="6_rr8l2"]
[ext_resource type="PackedScene" uid="uid://cjyky644ylaof" path="res://Zones/Scenes/zone_6.tscn" id="7_a5t7k"]
[ext_resource type="PackedScene" uid="uid://boarjyoukplhw" path="res://Objects/Interactable/Tools/tape.tscn" id="7_l66rf"]
[ext_resource type="PackedScene" uid="uid://sjjavwf3a570" path="res://Zones/Scenes/zone_7.tscn" id="8_5vsux"]
[ext_resource type="Script" path="res://Zones/Scripts/LightManager.cs" id="8_rio7b"]
[ext_resource type="PackedScene" uid="uid://n5yokdmfhjnb" path="res://Zones/Scenes/tunnel_side.tscn" id="8_yx5qa"]
[ext_resource type="PackedScene" uid="uid://dxomfx6j7lo8m" path="res://Objects/Interactable/Tools/shovel.tscn" id="9_bni7l"]
[ext_resource type="PackedScene" uid="uid://bjvjidsafjj8e" path="res://Zones/Scenes/zone_8.tscn" id="9_wnaab"]
[ext_resource type="PackedScene" path="res://Objects/Cart/parking.tscn" id="11_7wrjh"]
[ext_resource type="PackedScene" uid="uid://dqopj1jwrwxhg" path="res://Zones/Scenes/zone_10.tscn" id="11_f4bw3"]
[ext_resource type="PackedScene" uid="uid://b3e0tj0ry08qf" path="res://Zones/Scenes/zone_11.tscn" id="12_6lbj4"]
[ext_resource type="PackedScene" uid="uid://cxuquqsfkx8sa" path="res://Objects/Audio/audio_manager.tscn" id="13_2yeii"]
[ext_resource type="PackedScene" uid="uid://ljexx0l02j4u" path="res://Zones/Scenes/zone_12.tscn" id="13_xpvod"]
[ext_resource type="PackedScene" uid="uid://cicrmk46j6qdg" path="res://Zones/Scenes/zone_13.tscn" id="14_acyje"]
[ext_resource type="PackedScene" uid="uid://dwyjmfc75quxk" path="res://Zones/Scenes/zone_14.tscn" id="15_c6lld"]
[ext_resource type="PackedScene" uid="uid://dp3ata2fjdami" path="res://UIS/failed_room_screen.tscn" id="15_xa325"]
[ext_resource type="PackedScene" uid="uid://rahcybl0kb40" path="res://Zones/Scenes/zone_15.tscn" id="16_jkqg7"]
[ext_resource type="PackedScene" uid="uid://cecemswk07gw3" path="res://Zones/Scenes/zone_16.tscn" id="17_eclp2"]
[ext_resource type="PackedScene" uid="uid://cks1jjkyhc157" path="res://Zones/RoomsModelsNodes/rails.tscn" id="17_kd7hi"]

[sub_resource type="BoxMesh" id="BoxMesh_j74ki"]

[sub_resource type="Environment" id="Environment_5v3ka"]
fog_light_color = Color(0.154876, 0.154876, 0.154876, 1)
fog_depth_end = 4000.0
volumetric_fog_enabled = true
volumetric_fog_density = 0.1
volumetric_fog_albedo = Color(0.0846899, 0.0846899, 0.0846899, 1)
volumetric_fog_emission = Color(0.0807833, 0.0807833, 0.0807833, 1)
volumetric_fog_emission_energy = 2.0

[sub_resource type="BoxMesh" id="BoxMesh_i06lb"]

[node name="Main" type="Node3D" node_paths=PackedStringArray("Cart", "_player", "_audioManager", "_resetRoomTimer", "_roomFailedScreen", "_rails", "_tunelPreZone", "_tunelPostZone", "_resetPoint")]
script = ExtResource("1_yxd7y")
startIndex = 15
_scenes = [ExtResource("2_3h40t"), ExtResource("3_pn6f8"), ExtResource("4_4rtxn"), ExtResource("5_ueelr"), ExtResource("6_m1i8t"), ExtResource("7_a5t7k"), ExtResource("8_5vsux"), ExtResource("9_wnaab"), ExtResource("2_2apei"), ExtResource("11_f4bw3"), ExtResource("12_6lbj4"), ExtResource("13_xpvod"), ExtResource("14_acyje"), ExtResource("15_c6lld"), ExtResource("16_jkqg7"), ExtResource("17_eclp2")]
Cart = NodePath("cart")
_player = NodePath("Character")
_audioManager = NodePath("AudioManager")
_resetRoomTimer = NodePath("ResetRoomTimer")
_roomFailedScreen = NodePath("FailedRoomScreen")
_rails = NodePath("Rails")
_tunelPosition1 = Vector3(1.685, 0, -41.09)
_tunelPosition2 = Vector3(1.75, 0, 341.6)
_tunelPreZone = NodePath("TunnelSidePre")
_tunelPostZone = NodePath("TunnelSidePost")
_resetPoint = NodePath("MeshInstance3D3")
_tunelPrefab = ExtResource("8_yx5qa")

[node name="LightManager" type="Node3D" parent="."]
script = ExtResource("8_rio7b")

[node name="cart" parent="." node_paths=PackedStringArray("_player") instance=ExtResource("2_kfp56")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.676, 1.802, 290)
_player = NodePath("../Character")

[node name="Blowtorch" parent="cart" instance=ExtResource("6_rr8l2")]
transform = Transform3D(0.973154, 0, 0.230241, 0, 1, 0, -0.230241, 0, 0.973154, -0.754852, 0.311506, -1.67819)

[node name="Shovel" parent="cart" instance=ExtResource("9_bni7l")]
transform = Transform3D(-3.0598e-08, 0, 0.7, 0, 0.7, 0, -0.7, 0, -3.0598e-08, -0.507917, 1.05105, -1.62469)

[node name="Tape" parent="cart" instance=ExtResource("7_l66rf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.359502, 0.155308, -1.66697)

[node name="Character" parent="." instance=ExtResource("4_l5hq1")]
transform = Transform3D(-1, 0, -1.50996e-07, 0, 1, 0, 1.50996e-07, 0, -1, 0.685363, 1.02907, 289.8)

[node name="Parking" parent="." instance=ExtResource("11_7wrjh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.747968, 1.28914, -3.82848)

[node name="TunnelSidePre" parent="." instance=ExtResource("8_yx5qa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.685, 0, -41.09)

[node name="TunnelSidePost" parent="." instance=ExtResource("8_yx5qa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.75, 0, 341.6)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(15, 0, 0, 0, 20, 0, 0, 0, 1, 0, 4.742, -184.46)
mesh = SubResource("BoxMesh_j74ki")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(15, 0, 0, 0, 20, 0, 0, 0, 1, 0, 4.742, 341.244)
mesh = SubResource("BoxMesh_j74ki")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5v3ka")

[node name="AudioManager" parent="." instance=ExtResource("13_2yeii")]

[node name="FailedRoomScreen" parent="." instance=ExtResource("15_xa325")]

[node name="ResetRoomTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="MeshInstance3D3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.676, 1.802, 68.3846)
visible = false
mesh = SubResource("BoxMesh_i06lb")

[node name="Rails" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.53, 0)

[node name="Rail" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.63, 0.189, 19.5286)

[node name="Rail2" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629999, 0.189, 8.83442)

[node name="Rail3" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629999, 0.189, -1.85722)

[node name="Rail4" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629998, 0.189, -12.5514)

[node name="Rail5" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629998, 0.189, -23.2463)

[node name="Rail6" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629998, 0.189, -33.9379)

[node name="Rail7" parent="Rails" instance=ExtResource("17_kd7hi")]
transform = Transform3D(-4.67712e-07, 0, 10.7, 0, 10.7, 0, -10.7, 0, -4.67712e-07, 0.629997, 0.189, -44.644)

[connection signal="timeout" from="ResetRoomTimer" to="." method="_on_reset_timer_timeout"]
